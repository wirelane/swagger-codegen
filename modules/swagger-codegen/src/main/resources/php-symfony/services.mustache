# NOTE: This file is auto generated by the swagger code generator program.
# https://github.com/swagger-api/swagger-codegen
# Do not edit the class manually.

parameters:
    {{bundleAlias}}.serializer: '{{servicePackage}}\SerializerInterface'
    {{bundleAlias}}.validator:  '{{servicePackage}}\ValidatorInterface'
    emc_api.object_validation_log: true
    emc_api.object_validation_strict: false

services:
    {{bundleAlias}}.api.api_server:
        class: {{apiPackage}}\ApiServer

    {{bundleAlias}}.model.model_serializer:
        class: {{modelPackage}}\ModelSerializer

    {{bundleAlias}}.service.serializer:
        class: '%{{bundleAlias}}.serializer%'

    {{bundleAlias}}.service.validator:
        class: '%{{bundleAlias}}.validator%'
        arguments:
         - '@?emc_api.service.validator.cache'

{{#apiInfo}}
{{#apis}}
{{#operations}}
    {{bundleAlias}}.controller.{{pathPrefix}}:
        class: {{controllerPackage}}\{{baseName}}Controller
        calls:
         - [setDebugMode,        ['%kernel.debug%']]
         - [setLogger,           ['@logger']]
         - [setObjectValidation, ['%emc_api.object_validation_log%', '%emc_api.object_validation_strict%']]
         - [setSerializer,       ['@{{bundleAlias}}.service.serializer']]
         - [setValidator,        ['@{{bundleAlias}}.service.validator']]
         - [setApiServer,        ['@{{bundleAlias}}.api.api_server']]
        tags:
         - {name: 'controller.service_arguments'}

{{/operations}}
{{/apis}}
{{/apiInfo}}